<!-- Copyright (c) 2012 Mobile Developer Solutions -->
<!DOCTYPE HTML>
<html>
    
    <head>
        <meta http-equiv="Content-type" name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
        <title>Short Courses</title>
        <!-- load css files -->
        <link rel="stylesheet" href="css/jquery.mobile-1.2.0.min.css"/>
        <link rel="stylesheet" href="css/writtle.css" />
        <!-- load javascript framworks -->
        <script src="js/jquery.mobile/jquery-1.8.3.min.js"></script>
        <script src="js/jquery.mobile/jquery.mobile-1.2.0.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/cordova-2.2.0.js"></script>
        <!-- load javascript for the page -->
         <script type="text/javascript" charset="utf-8" src="js/jquery.fitvids.min.js"></script>
        
         <script type="text/javascript" charset="utf-8">

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
        // Empty
         //checkConnection();
    }

    // process the confirmation dialog result
    function onConfirm(buttonIndex) {
        alert('You selected button ' + buttonIndex);
    }

    // Show a custom confirmation dialog
    //
    function showConfirm() {
        navigator.notification.confirm(
            'You are the winner!',  // message
            onConfirm,              // callback to invoke with index of button pressed
            'Game Over',            // title
            'Restart,Exit'          // buttonLabels
        );
    }

             
             
             
             
function checkConnection() {
        var networkState = navigator.connection.type;

        var states = {};
        states[Connection.UNKNOWN]  = 'Unknown connection';
        states[Connection.ETHERNET] = 'Ethernet connection';
        states[Connection.WIFI]     = 'WiFi connection';
        states[Connection.CELL_2G]  = 'Cell 2G connection';
        states[Connection.CELL_3G]  = 'Cell 3G connection';
        states[Connection.CELL_4G]  = 'Cell 4G connection';
        states[Connection.NONE]     = 'No network connection';

        alert('Connection type: ' + states[networkState]);
    }             
    </script>
        
        
        
        
            
        
        
        <style type="text/css">
        </style>
        
 
        
        
        
        
    </head>
    
    <body>

        
<!-- Video List  Page -->
     
     <div data-role="page" id="video">
            <div data-role="header" data-theme="a">
                 <a href="index.html" data-icon="back"  data-iconpos="notext" rel="external"
                data-direction="reverse">vidoes</a>
                 <h1>Video List </h1>

            </div>
            <div data-role="content">
               <!--  <p><a href="#" onclick="showConfirm(); return false;">Show Confirm</a></p>
                <p>A dialog box will report the network state.</p>-->
                <div class="ui-grid-a" id="videolist"></div>  <!-- Grid -->  
                
            </div> <!-- Content -->
              
            <!--footer-->
    </div> <!-- End Video List page -->
            
          
            
    
    <!-- Video Player Page -->
     <div data-role="page" id="videoplayer">
            <div data-role="header" data-theme="a">
                <a href="#video" data-icon="back"  data-iconpos="text"
                data-direction="reverse">back</a>
                 <h1></h1>

            </div>
            <div data-role="content">
               
                    <div id="myplayer"> </div>
                

                </div> <!-- Content -->
                
 
    </div> <!-- End Video Player Page -->

        
        
        
        
        
        
         <!-- Info Page -->
        <div data-role="page" id="info">
            <div data-role="header" data-theme="a">
                 <h1>Info About App</h1>

            </div>
            <div data-role="content">
                <p>Version <b>0.0.1 Dev</b>
                <p>Bug List</p>
                <ul>
                    <li> Navbar bug in the active style.</li>
                    <li>App File to big in size no more the 3mb</li>
                    </ul>
                    
                    
                

                
                <p id="deviceProperties">Loading device properties...</p>
            </div>
            </div>
        
        <!-- info page -->
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    <script>
        $(document).ready(function() {
             $.mobile.showPageLoadingMsg();
           /* $.mobile.fixedToolbars.hide(true);*/
                $.ajax({
                url: 'http://gdata.youtube.com/feeds/users/writtlecollege1/uploads?alt=json-in-script&max-results=30&callback"',
                dataType: 'jsonp',
                jsonp: 'callback',
                timeout: 7000,
                success: function(data, status){
                    //data loaded
                    
             
                    var output = '';
        
                for ( var i=0; i<data.feed.entry.length; i++) {
                
                // Load the first title on youtube //
                var title = data.feed.entry[i].title.$t;
                    title = escape(title);
                
                //load the description from youtube  //
                var description = data.feed.entry[i].media$group.media$description.$t;
                // Load image //
                var thumbnail = data.feed.entry[i].media$group.media$thumbnail[0].url;
                // id of the video //
                var id = data.feed.entry[i].id.$t.substring(38);
                
                    
                    var blocktype = ((i % 2)===1) ? 'b': 'a';
                    
                    output += '<div class="ui-block-' + blocktype + '">';
                    output += '<a href="#videoplayer" data-transition="none" onclick="playvideo(\'' +  id +'\',\'' + title + '\',\'' + escape(description) + '\')">';
                    output += '<h3 class="movietitle">'+ unescape(title) +'</h3>';
                    output += '<img src="' + thumbnail + '"  alt="'+ title +'" />';
                    output += '</a>';
                    output += '</div>';
                    
                   
                
            } 
     
     $('#videolist').html(output);
        
      $.mobile.hidePageLoadingMsg();
      /*$.mobile.fixedToolbars.show(true);*/
        
        
        
	},
	error: function(){
		//error loading data
        
        
        $('#videolist').html('<h1>Error Loading...</h1>');
        
        $.mobile.hidePageLoadingMsg();
        
	}
            
           
            
});
            

        });     
        
        
function playvideo(id, title, description) {
   
           
            var output ='';
    
            output += '<h1>' + unescape(title) + '</h1>';
            output +='<iframe width="425" height="349" src="http://www.youtube.com/embed/'+ id +'?wmode=transparent&amp;HD=0&amp;rel=0&amp;showinfo=0&amp;controls=1&amp;autoplay=1" frameborder="0" allowfullscreen></iframe>';    
            output += '<p>' + unescape(description) + '</p>';
            $('#myplayer').html(output);
             $.mobile.hidePageLoadingMsg();
                   
                   // Load fitvids /// 
                    $("#myplayer").fitVids();
                    
    
}    
        
        
    
        
        
        
        </script>
        
        
        
        
        
    
            <!-- You Tube Api Json code  -->
            <!--<script type="text/javascript" charset="utf-8" src="http://gdata.youtube.com/feeds/users/writtlecollege1/uploads?alt=json-in-script&max-results=30&callback=listvideos"></script>-->
            
    
        <script type="text/javascript" charset="utf-8" src="apis/device.js"></script>
      
    </body>

</html>
